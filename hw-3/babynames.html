<!DOCTYPE html>
<html>
<head>
	<title>BabyNames</title>
</head>
<body>
<script language = "javascript" type = "text/javascript">
         //Browser Support Code
         function ajaxFunction() {
            var ajaxRequest;  // The variable that makes Ajax possible!
            
            try {        
               // Opera 8.0+, Firefox, Safari
               ajaxRequest = new XMLHttpRequest();
            } catch (e) {
               
               // Internet Explorer Browsers
               try {
                  ajaxRequest = new ActiveXObject("Msxml2.XMLHTTP");
               } catch (e) {
                  
                  try {
                     ajaxRequest = new ActiveXObject("Microsoft.XMLHTTP");
                  } catch (e) {
                     // Something went wrong
                     alert("Your browser broke!");
                     return false;
                  }
               }
            }
            
            // Create a function that will receive data
            // sent from the server and will update
            // div section in the same page.
            ajaxRequest.onreadystatechange = function() {
            
               if(ajaxRequest.readyState == 4) {
                  var ajaxDisplay = document.getElementById('ajaxDiv');
                  ajaxDisplay.innerHTML = ajaxRequest.responseText;
               }
            }
            
            // Now get the value from user and pass it to
            // server script.
            var year = document.getElementById('year').value;
            var gender = document.getElementById('gender').value;

            var queryString = "?year=" + year ;            
            queryString +=  "&gender=" + gender;
            ajaxRequest.open("GET", "babynames.php" + queryString, true);
            ajaxRequest.send(null); 
         }
         
</script>


<h1>Top-Five Baby Names</h1>
<form>
	<select name="year" id="year">
	  <option value ="nonechoice">None</option>
	  <option value ="2005">2005</option>
	  <option value ="2006">2006</option>
	  <option value ="2007">2007</option>
	  <option value ="2008">2008</option>
	  <option value ="2009">2009</option>
	  <option value ="2010">2010</option>
	  <option value ="2011">2011</option>
	  <option value ="2012">2012</option>
	  <option value ="2013">2013</option>
	  <option value ="2014">2014</option>
	  <option value ="2015">2015</option>
	</select>
	<select name="gender" id="gender">
	  <option value ="nonechoice">None</option>
	  <option value ="m">male</option>
	  <option value ="f">female</option>
	</select>
	<!-- <input type="submit" value="submit"> -->
	<input type="button" onclick="ajaxFunction()" value="submit">
</form>
<div id="ajaxDiv">Your result will display here...</div>
</body>
</html>